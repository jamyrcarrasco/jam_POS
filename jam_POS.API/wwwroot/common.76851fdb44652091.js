"use strict";(self.webpackChunkPOS_System=self.webpackChunkPOS_System||[]).push([[592],{6028:(m,a,s)=>{function i(r,...d){return d.length?d.some(l=>r[l]):r.altKey||r.shiftKey||r.ctrlKey||r.metaKey}s.d(a,{Vb:()=>i})},4969:(m,a,s)=>{s.d(a,{T:()=>y});var i=s(8645),r=s(9397),d=s(3620),l=s(2181),p=s(7398),n=s(4983);class y{_letterKeyStream=new i.x;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new i.x;selectedItem=this._selectedItem;constructor(t,e){const _="number"==typeof e?.debounceInterval?e.debounceInterval:200;e?.skipPredicate&&(this._skipPredicateFn=e.skipPredicate),this.setItems(t),this._setupKeyHandler(_)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(t){this._selectedItemIndex=t}setItems(t){this._items=t}handleKey(t){const e=t.keyCode;t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=n.A&&e<=n.Z||e>=n.b&&e<=n.N)&&this._letterKeyStream.next(String.fromCharCode(e))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(t){this._letterKeyStream.pipe((0,r.b)(e=>this._pressedLetters.push(e)),(0,d.b)(t),(0,l.h)(()=>this._pressedLetters.length>0),(0,p.U)(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(e=>{for(let _=1;_<this._items.length+1;_++){const h=this._items[(this._selectedItemIndex+_)%this._items.length];if(!this._skipPredicateFn?.(h)&&0===h.getLabel?.().toLocaleUpperCase().trim().indexOf(e)){this._selectedItem.next(h);break}}this._pressedLetters=[]})}}}}]);